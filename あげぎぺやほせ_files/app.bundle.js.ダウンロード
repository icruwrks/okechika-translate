/*! Simplified version without time-based conditional logic */
(function() {
  'use strict';

  // Menu toggle functionality
  var menuButton = document.querySelector('button[name="menu"]');
  if (menuButton) {
    var navWrapper = document.querySelector('.l-header__nav-wrapper');
    var navBackdrop = document.querySelector('.l-header__nav-backdrop');
    var navContainer = document.querySelector('.l-header__nav-container');
    
    menuButton.addEventListener('click', function() {
      if (menuButton.classList.contains('is-opened')) {
        menuButton.classList.remove('is-opened');
        navContainer.classList.remove('is-showed');
        setTimeout(function() {
          navBackdrop.classList.remove('is-showed');
        }, 300);
        setTimeout(function() {
          navWrapper.classList.remove('is-active');
        }, 500);
      } else {
        menuButton.classList.add('is-opened');
        navWrapper.classList.add('is-active');
        setTimeout(function() {
          navBackdrop.classList.add('is-showed');
          navContainer.classList.add('is-showed');
        }, 0);
      }
    });
  }

  // Load more items functionality
  document.addEventListener('DOMContentLoaded', function() {
    var items = document.querySelectorAll('.p-index-ycqs__item');
    var buttonWrapper = document.querySelector('.p-index-ycqs__button');
    var loadButton = document.querySelector('button[name="load"]');
    var visibleCount = 0;

    // Show first 5 items
    items.forEach(function(item, index) {
      if (index < 5) {
        item.classList.add('is-loaded');
        visibleCount++;
      } else {
        item.classList.remove('is-loaded');
      }
    });

    // Show button if there are more than 5 items
    if (items.length > 5 && buttonWrapper) {
      buttonWrapper.classList.add('is-showed');
    }

    // Load more button click handler
    if (loadButton) {
      loadButton.addEventListener('click', function() {
        var newCount = visibleCount + 5;
        items.forEach(function(item, index) {
          if (index < newCount) {
            item.classList.add('is-loaded');
          }
        });
        visibleCount = newCount;
        
        // Hide button if all items are visible
        if (visibleCount >= items.length && buttonWrapper) {
          buttonWrapper.classList.remove('is-showed');
        }
      });
    }
  });
})();